<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validação de CPF e CNPJ</title>
    <style>
        .errorCPF, .errorCNPJ {
            color: red
        }
        body {
            text-align: center;
            margin: 15%;
            background-image: url(wallpaper.jpg);
            font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        }
    </style>
</head>
<body>
    <h1>Desafio de Dia dos Namorados</h1>
    <h2>Validação de CPF e CNPJ</h2>
    <div>
        <form>
            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" placeholder="XXX.XXX.XXX-XX">
            <!--Placeholder para que o usuário saiba qual o formato correto-->
            <input type="button" onclick="checkCPF()" value="Validar CPF">
            <!--Onclick para chamar a função de checagem-->
                </div>
                <div class="errorCPF"></div>
                <div>
                    <br>
            <label for="cnpj">CNPJ:</label>
            <input type="text" id="cnpj" placeholder="XX.XXX.XXX/XXXX-XX">
            <input type="button" onclick="checkCNPJ()" value="Validar CNPJ">
                </div>
                <div class="errorCNPJ"></div>
        </form>
    <script language="Javascript">
        //criando uma função para checar a validade do cpf
        function checkCPF() {
            let cpfInput = document.querySelector("#cpf").value //variavel com o id do input, selecionando o valor digitado
            const patternCPF = /\d{3}.\d{3}.\d{3}-\d{2}/ //variavel com o formato do regex
            if (!patternCPF.test(cpfInput)) { //utilizando um método do regex (test) para checar se o input corresponde a ele
                document.querySelector('.errorCPF').innerHTML = "CPF inválido" //adicionando o que irá aparecer na class de erro
            } else {
                document.querySelector('.errorCPF').innerHTML = "" //para que quando for adicionado um cpf válido, desapareça a mensagem de erro
            }
        }

        function checkCNPJ() {
            let cnpjInput = document.querySelector("#cnpj").value;
            const patternCNPJ = /\d{2}.\d{3}.\d{3}[/]\d{4}-\d{2}/
            if (!patternCNPJ.test(cnpjInput)) {
                document.querySelector('.errorCNPJ').innerHTML = "CNPJ inválido"
            } else {
                document.querySelector('.errorCNPJ').innerHTML = ""
            }
        }
    </script>
</body>
</html>